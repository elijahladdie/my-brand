<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kode+Mono:wght@400..700&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/bdad64c26f.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../css/style.css">
    <title>KURADUSENGE | Blog</title>
</head>

<body id="KURADUSENGE">
    <nav class="sticky-nav flex justify-between items-center large">
        <ul class="">
            <li class="text-lg underline-move"><a href="../../index.html">KURADUSENGE</a></li>
        </ul>
        <ul class="flex gap-4">
            <li class="text-sm underline-move"><a href="../../index.html#skills">Skills </a></li>
            <li class="text-sm underline-move"><a href="../../index.html#About">About</a></li>
            <li class="text-sm underline-move"><a href="../../index.html#Work">Work</a></li>
            <li class="text-sm underline-move"><a href="./jobs.html">Jobs</a></li>
            <li class="text-sm underline-move"><a href="../../index.html#Contact">Contact</a></li>
            <li class="text-sm underline-move"><a href="./blogs.html">Blog</a></li>
        </ul>
        <ul>
            <li class="text-sm underline-move"><a href="./login.html">Login</a></li>
        </ul>
    </nav>
    <nav class="middle sticky-nav">

        <ul class=" flex justify-between pad-y">
            <li class="text-sm underline-move "><a href="../../index.html#KURADUSENGE">KURADUSENGE</a></li>
            <button id="navButton">
                <i class="fas fa-bars text-lg"></i>
            </button>
        </ul>
        <nav class=" flex justify-between items-center  flex-wrap " id="navItems">
            <ul class="flex gap-4">
                <li class="text-xs underline-move"><a href="../../index.html#skills">Skills </a></li>
                <li class="text-xs underline-move"><a href="../../index.html#About">About</a></li>
                <li class="text-xs underline-move"><a href="../../index.html#Work">Work</a></li>
                <li class="text-xs underline-move"><a href="./jobs.html">Jobs</a></li>
                <li class="text-xs underline-move"><a href="../../index.html#Contact">Contact</a></li>
                <li class="text-xs underline-move"><a href="./blogs.html">Blog</a></li>
            </ul>
            <ul>
                <li class="text-xs underline-move"><a href="./login.html">Login</a></li>

            </ul>


        </nav>

    </nav>
    <div class="flex flex-col ">
        <div id="divdend"></div>
    </div>
    </div>
    <script src="../js/script.js">
    </script>
    <script>
        // Retrieve blogs array from localStorage
        const blogs = JSON.parse(localStorage.getItem('blogs')) || [];

        // Generate HTML structure for each blog
        const blogHTML = blogs.map(blog => {
            console.log(blog.fileSrc)
            return `
    <div class="flex flex-col bg-white w-grid rounded">
        <h1 class="text-lg text-end pad"> ${blog.title}</h1>
        <div class="gap-8 rounded w-full pad flex items-center flex-row">
            <img src="${blog.fileSrc}" alt="" class="blog_image">
            <p>${blog.body}</p>
        </div>
        <div class="flex justify-between pad ">
            <span class="flex gap-8 relative">
                <i class="fa-regular fa-envelope text-sm " id="openModalBtn"></i>
                <div class="modal-content flex flex-col justify-between gap-8 hidden" id="myModal">
                    <div>
                        <div class="flex justify-between">
                            <h4>Comments</h4>
                            <span class="close">&times;</span>
                        </div>
                        <div class="flex items-center gap-8 ">
                            <img src="../img/profile-pic.jpg" alt="" class="profile-pic">
                            <small class="text-xs">Well that was nice exploring</small>
                            <small class="text-xs">10:14 PM</small>
                        </div>
                    </div>
                    <div class="flex items-center justify-between gap-2">
                        <input class="comments" name="comments" placeholder="Write comment ......" />
                        <button type="submit" class="text-sm w-fit"><i class="fa-solid fa-plus" style="color: #c0c0c0;"></i></button>
                    </div>
                </div>
                <i class="fa-solid fa-thumbs-up text-sm"></i>
            </span>
            <span>uploaded on ${blog.uploadedDate}</span>
        </div>
    </div>
    `;
        }).join('');

        // Create container div and set its innerHTML to the generated blog HTML
        const container = document.getElementById('divdend');
        container.innerHTML = `
    <h1 class="text-xl text-end pad w-fill">Blogs</h1>
    <div id="About" class="flex flex-col lg:flex-row gap-8 pad-y justify-center items-center w-screen">
        ${blogHTML}
    </div>
`;

        // Store the formatted HTML in localStorage
        localStorage.setItem('formattedBlogs', container.innerHTML);

    </script>
</body>

</html>